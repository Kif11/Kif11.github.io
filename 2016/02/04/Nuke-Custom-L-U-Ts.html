<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Nuke Custom LUTs - Visual Effects Pipeline</title>

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Nuke Custom LUTs">
    <meta name="twitter:description" content="">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Nuke Custom LUTs">
    <meta property="og:description" content="">

    <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <link href="/apple-touch-icon-precomposed.png" rel="apple-touch-icon">

    <link rel="stylesheet" type="text/css" href="//Kif11.github.io/themes/uno/assets/css/uno.css?v=1.0.0" />

    <link rel="canonical" href="https://Kif11.github.io/2016/02/04/Nuke-Custom-L-U-Ts.html" />
    
    <meta property="og:site_name" content="Visual Effects Pipeline" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Nuke Custom LUTs" />
    <meta property="og:description" content="Problem Our post-production facility recessive DPX plates with .3dl LUT file outputted from DaVinci Resolve. The LUT was for two different cameras one of which is ARRI Alexa and another is RED. The task is to apply this LUTs to..." />
    <meta property="og:url" content="https://Kif11.github.io/2016/02/04/Nuke-Custom-L-U-Ts.html" />
    <meta property="article:published_time" content="2016-02-04T08:00:00.000Z" />
    <meta property="article:modified_time" content="2016-02-05T09:28:47.924Z" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Nuke Custom LUTs" />
    <meta name="twitter:description" content="Problem Our post-production facility recessive DPX plates with .3dl LUT file outputted from DaVinci Resolve. The LUT was for two different cameras one of which is ARRI Alexa and another is RED. The task is to apply this LUTs to..." />
    <meta name="twitter:url" content="https://Kif11.github.io/2016/02/04/Nuke-Custom-L-U-Ts.html" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Visual Effects Pipeline",
    "author": {
        "@type": "Person",
        "name": "Kirill Kovalevskiy",
        "image": "https://avatars.githubusercontent.com/u/8003487?v=3",
        "url": "undefined/author/undefined",
        "sameAs": "http:/kkvisuals.com"
    },
    "headline": "Nuke Custom LUTs",
    "url": "https://Kif11.github.io/2016/02/04/Nuke-Custom-L-U-Ts.html",
    "datePublished": "2016-02-04T08:00:00.000Z",
    "dateModified": "2016-02-05T09:28:47.924Z",
    "description": "Problem Our post-production facility recessive DPX plates with .3dl LUT file outputted from DaVinci Resolve. The LUT was for two different cameras one of which is ARRI Alexa and another is RED. The task is to apply this LUTs to..."
}
    </script>

    <meta name="generator" content="Ghost ?" />
    <link rel="alternate" type="application/rss+xml" title="Visual Effects Pipeline" href="https://Kif11.github.io/rss" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">

</head>
<body class="post-template no-js">

    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>

    <header class="panel-cover panel-cover--collapsed " >
      <div class="panel-main">
    
        <div class="panel-main__inner panel-inverted">
        <div class="panel-main__content">
    
            <h1 class="panel-cover__title panel-title"><a href="https://Kif11.github.io" title="link to homepage for Visual Effects Pipeline">Visual Effects Pipeline</a></h1>
            <hr class="panel-cover__divider" />
            <p class="panel-cover__description"></p>
            <hr class="panel-cover__divider panel-cover__divider--secondary" />
    
            <div class="navigation-wrapper">
    
              <nav class="cover-navigation cover-navigation--primary">
                <ul class="navigation">
                  <li class="navigation__item"><a href="https://Kif11.github.io/#blog" title="link to Visual Effects Pipeline blog" class="blog-button">Blog</a></li>
                </ul>
              </nav>
    
              
              
              <nav class="cover-navigation navigation--social">
                <ul class="navigation">
              
              
              
              
              
              
              
              
              
              
                </ul>
              </nav>
              
    
            </div>
    
          </div>
    
        </div>
    
        <div class="panel-cover--overlay"></div>
      </div>
    </header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            

  <article class="post-container post-container--single">

    <header class="post-header">
      <div class="post-meta">
        <time datetime="04 Feb 2016" class="post-meta__date date">04 Feb 2016</time> &#8226; <span class="post-meta__tags tags"></span>
        <span class="post-meta__author author"><img src="https://avatars.githubusercontent.com/u/8003487?v=3" alt="profile image for Kirill Kovalevskiy" class="avatar post-meta__avatar" /> by Kirill Kovalevskiy</span>
      </div>
      <h1 class="post-title">Nuke Custom LUTs</h1>
    </header>

    <section class="post">
      <div class="sect2">
<h3 id="_problem">Problem</h3>
<div class="paragraph">
<p>Our post-production facility recessive DPX plates with .3dl LUT file outputted from DaVinci Resolve. The LUT was for two different cameras one of which is ARRI Alexa and another is RED. The task is to apply this LUTs to every dailies rendered by artists.</p>
</div>
</div>
<div class="sect2">
<h3 id="_solution">Solution</h3>
<div class="paragraph">
<p>First, we need to create a gizmo for each LUT which contain Vector Field Nuke node with the following expression in the “fectorfield file” field.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[getenv NUKE_LUT]/A_CAM_ArriLogC.3dl</pre>
</div>
</div>
<div class="paragraph">
<p>where “getenv NUKE_LUT” will grab session environmental variable with name “NUKE_LUT” which contain path to the LUTs folder.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/nuke_custom_luts/nuke_vectorfield_example.png" alt="Nuke Vectorfield Example" width="525">
</div>
</div>
<div class="paragraph">
<p>Now create a “init.py” file inside you .nuke directory.</p>
</div>
<div class="listingblock">
<div class="content">
<pre> C:\Users\User name\.nuke</pre>
</div>
</div>
<div class="paragraph">
<p>The “init.py” file should look something like that.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import nuke
import os

# Path to executed file
cwd = os.path.dirname(os.path.realpath(__file__))

# Provide env variable for use in vectorfield node as a relative path
os.environ['NUKE_LUT'] = os.path.join(cwd, 'BB_LUT')

# Paths to viewer gizmos
RED_Viewer_LUT = os.path.join(cwd, 'BB_LUT', 'BB_RED_Viewer_LUT.gizmo').replace("\\", "/")
ARRI_Viewer_LUT = os.path.join(cwd, 'BB_LUT', 'BB_ARRI_Viewer_LUT.gizmo').replace("\\", "/")

# Paths to node gizmos
RED_LUT = os.path.join(cwd, 'BB_LUT', 'BB_RED_LUT.gizmo').replace("\\", "/")
ARRI_LUT = os.path.join(cwd, 'BB_LUT', 'BB_ARRI_LUT.gizmo').replace("\\", "/")

# Register custom LUTs
nuke.ViewerProcess.register("BB_ARRI_LUT", nuke.Node, (ARRI_Viewer_LUT, ""))
nuke.ViewerProcess.register("BB_RED_LUT", nuke.Node, (RED_Viewer_LUT, ""))

# Regester costome meny for creatin LUT gizmos
nuke.menu('Nodes').addCommand( 'BB_Tools/ARRI_LUT', lambda: nuke.createNode(ARRI_LUT))
nuke.menu('Nodes').addCommand( 'BB_Tools/RED_LUT', lambda: nuke.createNode(RED_LUT))</code></pre>
</div>
</div>
<div class="paragraph">
<p>Beside registering gizmo for Nuke Tab menu I also register them as a custom  Nuke display LUTs.
image::nuke_custom_luts/nuke_lut_node.png[]
Note how the “init.py” script setting a ‘NUKE_LUT’ environmental variable which is hold a path pointing to the current directory plus LUT sub-directory.</p>
</div>
<div class="paragraph">
<p>After that we should be able to access that variable trough the foloving TCL expression inside of Nuke.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>getenv NUKE_LUT</pre>
</div>
</div>
<div class="paragraph">
<p>Now we can copy the folder with our LUTs and gizmos within “init.py” to any windows or mac machine without worries about hard-coded path to our LUTs.</p>
</div>
</div>
    </section>

  </article>




            <footer class="footer">
                <span class="footer__copyright">&copy; 2016. All rights reserved.</span>
                <span class="footer__copyright"><a href="http://uno.daleanthony.com" title="link to page for Uno Ghost theme">Uno theme</a> by <a href="http://daleanthony.com" title="link to website for Dale-Anthony">Dale-Anthony</a></span>
                <span class="footer__copyright">Proudly published with <a href="http://hubpress.io" title="link to Hubpress website">Hubpress</a></span>
            </footer>
        </div>
    </div>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();      
      </script>

    <script type="text/javascript" src="//Kif11.github.io/themes/uno/assets/js/main.js?v=1.0.0"></script>
    

</body>
</html>

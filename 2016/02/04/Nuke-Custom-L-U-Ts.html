<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Nuke Custom LUTs</title>
    <meta name="description" content="" />
    <link href="//fonts.googleapis.com/css?family=Noto+Sans:300,400,700" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic" rel="stylesheet" type="text/css">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <link href="//Kif11.github.io/themes/Saga/assets/css/style.css?v=1.0.0" rel="stylesheet" type="text/css">
    <link href="//Kif11.github.io/themes/Saga/assets/css/animate.min.css?v=1.0.0" rel="stylesheet" type="text/css">
    <link href="//Kif11.github.io/themes/Saga/favicon.ico" rel="shortcut icon">
    <link rel="canonical" href="https://Kif11.github.io/2016/02/04/Nuke-Custom-L-U-Ts.html" />
    
    <meta property="og:site_name" content="Visual Effects Pipeline" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Nuke Custom LUTs" />
    <meta property="og:description" content="Problem Our post-production facility recessive DPX plates with .3dl LUT file outputted from DaVinci Resolve. The LUT was for two different cameras one of which is ARRI Alexa and another is RED. The task is to apply this LUTs to..." />
    <meta property="og:url" content="https://Kif11.github.io/2016/02/04/Nuke-Custom-L-U-Ts.html" />
    <meta property="article:published_time" content="2016-02-04T08:00:00.000Z" />
    <meta property="article:modified_time" content="2016-02-05T09:56:38.669Z" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Nuke Custom LUTs" />
    <meta name="twitter:description" content="Problem Our post-production facility recessive DPX plates with .3dl LUT file outputted from DaVinci Resolve. The LUT was for two different cameras one of which is ARRI Alexa and another is RED. The task is to apply this LUTs to..." />
    <meta name="twitter:url" content="https://Kif11.github.io/2016/02/04/Nuke-Custom-L-U-Ts.html" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Visual Effects Pipeline",
    "author": {
        "@type": "Person",
        "name": "Kirill Kovalevskiy",
        "image": "https://avatars.githubusercontent.com/u/8003487?v=3",
        "url": "undefined/author/undefined",
        "sameAs": "http:/kkvisuals.com"
    },
    "headline": "Nuke Custom LUTs",
    "url": "https://Kif11.github.io/2016/02/04/Nuke-Custom-L-U-Ts.html",
    "datePublished": "2016-02-04T08:00:00.000Z",
    "dateModified": "2016-02-05T09:56:38.669Z",
    "description": "Problem Our post-production facility recessive DPX plates with .3dl LUT file outputted from DaVinci Resolve. The LUT was for two different cameras one of which is ARRI Alexa and another is RED. The task is to apply this LUTs to..."
}
    </script>

    <meta name="generator" content="Ghost ?" />
    <link rel="alternate" type="application/rss+xml" title="Visual Effects Pipeline" href="https://Kif11.github.io/rss" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">
</head>
<body class="post-template">
    <header id="header" class="animated fadeIn">
    <div class="header-background">
    <section class="blog-content">
        <a id="site-url" class="blog-title" href="https://Kif11.github.io">Visual Effects Pipeline</a>
        <span class="blog-description"></span>
        <nav class="links fadeIn animated">
            <ul>
                <!-- <li class="rss"><a title="RSS Feed" href="/rss/"><i class="fa fa-fw fa-rss-square"></i></a></li> -->
        
            </ul>
        </nav>
    </section>
    <section class="header-content">
        <h1 class="post-title animated fadeInUp">Nuke Custom LUTs</h1>
        <span class="post-data"><span class="date animated fadeInUp"><i class="fa fa-clock-o"></i> <time class="timesince date" data-timesince="1454572800" datetime="2016-02-04T00:00" title="04 February 2016">2016-02-04 00:00:00<ago class="ago"></time></span>
            
            <span class="author animated fadeInUp"><i class="fa fa-user"></i> <a href="">Kirill Kovalevskiy</a></span></span>
    </section>
    </div>
</header>
<main id="main" class="content">
    <article itemtype="http://schema.org/BlogPosting" class="animated fadeIn content post post">
        <section class="post-content">
            <div class="sect2">
<h3 id="_problem">Problem</h3>
<div class="paragraph">
<p>Our post-production facility recessive DPX plates with .3dl LUT file outputted from DaVinci Resolve. The LUT was for two different cameras one of which is ARRI Alexa and another is RED. The task is to apply this LUTs to every dailies rendered by artists.</p>
</div>
</div>
<div class="sect2">
<h3 id="_solution">Solution</h3>
<div class="paragraph">
<p>First, we need to create a gizmo for each LUT which contain Vector Field Nuke node with the following expression in the “fectorfield file” field.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[getenv NUKE_LUT]/A_CAM_ArriLogC.3dl</pre>
</div>
</div>
<div class="paragraph">
<p>where “getenv NUKE_LUT” will grab session environmental variable with name “NUKE_LUT” which contain path to the LUTs folder.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/nuke_custom_luts/nuke_vectorfield_example.png" alt="Nuke Vectorfield Example" width="525">
</div>
</div>
<div class="paragraph">
<p>Now create a “init.py” file inside you .nuke directory.</p>
</div>
<div class="listingblock">
<div class="content">
<pre> C:\Users\User name\.nuke</pre>
</div>
</div>
<div class="paragraph">
<p>The “init.py” file should look something like that.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import nuke
import os

# Path to executed file
cwd = os.path.dirname(os.path.realpath(__file__))

# Provide env variable for use in vectorfield node as a relative path
os.environ['NUKE_LUT'] = os.path.join(cwd, 'BB_LUT')

# Paths to viewer gizmos
RED_Viewer_LUT = os.path.join(cwd, 'BB_LUT', 'BB_RED_Viewer_LUT.gizmo').replace("\\", "/")
ARRI_Viewer_LUT = os.path.join(cwd, 'BB_LUT', 'BB_ARRI_Viewer_LUT.gizmo').replace("\\", "/")

# Paths to node gizmos
RED_LUT = os.path.join(cwd, 'BB_LUT', 'BB_RED_LUT.gizmo').replace("\\", "/")
ARRI_LUT = os.path.join(cwd, 'BB_LUT', 'BB_ARRI_LUT.gizmo').replace("\\", "/")

# Register custom LUTs
nuke.ViewerProcess.register("BB_ARRI_LUT", nuke.Node, (ARRI_Viewer_LUT, ""))
nuke.ViewerProcess.register("BB_RED_LUT", nuke.Node, (RED_Viewer_LUT, ""))

# Regester costome meny for creatin LUT gizmos
nuke.menu('Nodes').addCommand( 'BB_Tools/ARRI_LUT', lambda: nuke.createNode(ARRI_LUT))
nuke.menu('Nodes').addCommand( 'BB_Tools/RED_LUT', lambda: nuke.createNode(RED_LUT))</code></pre>
</div>
</div>
<div class="paragraph">
<p>Beside registering gizmo for Nuke Tab menu I also register them as a custom  Nuke display LUTs.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/nuke_custom_luts/nuke_lut_node.png" alt="nuke lut node.png">
</div>
</div>
<div class="paragraph">
<p>Note how the “init.py” script setting a ‘NUKE_LUT’ environmental variable which is hold a path pointing to the current directory plus LUT sub-directory.</p>
</div>
<div class="paragraph">
<p>After that we should be able to access that variable trough the foloving TCL expression inside of Nuke.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>getenv NUKE_LUT</pre>
</div>
</div>
<div class="paragraph">
<p>Now we can copy the folder with our LUTs and gizmos within “init.py” to any windows or mac machine without worries about hard-coded path to our LUTs.</p>
</div>
</div>
        </section>

    </article>

</main>
    <footer class="animated fadeIn" id="footer">
        <section class="colophon">
          <section class="copyright">Copyright &copy; <span itemprop="copyrightHolder">Visual Effects Pipeline</span>. <span rel="license">All Rights Reserved</span>.</section>
          <section class="poweredby">Published with <a class="icon-ghost" href="http://hubpress.io">HubPress</a></section>
        </section>
        <section class="bottom">
          <section class="attribution">
            <a href="http://github.com/Reedyn/Saga">Built with <i class="fa fa-heart"></i> and Free and Open-Source Software</a>.
          </section>
        </section>
    </footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();      
      </script>
    <script src="//Kif11.github.io/themes/Saga/assets/js/scripts.js?v=1.0.0"></script>
    
</body>
</html>
